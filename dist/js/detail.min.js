"use strict";$(function(){$(".goods-magnifier");var t=$(".goods-img"),s=$(".goods-slide"),r=$(".goods-slide img"),a=$(".goods-mask");t.mouseenter(function(){s.css("display","block"),a.css("display","block")}),a.mouseleave(function(){s.css("display","none"),a.css("display","none")}),a.mousemove(function(t){var i=t.pageX-s.outerWidth()/2-a.offset().left+a.position().left,n=t.pageY-s.outerHeight()/2-a.offset().top+a.position().top;i<=a.position().left?i=a.position().left:i>=a.innerWidth()-s.outerWidth()+a.position().left&&(i=a.innerWidth()-s.outerWidth()+a.position().left),n<=a.position().top?n=a.position().top:n>=a.innerHeight()-s.outerHeight()+a.position().top&&(n=a.innerHeight()-s.outerHeight()+a.position().top),s.css("left","".concat(i,"px")),s.css("top","".concat(n,"px"));var o=i/(a.innerWidth()-s.outerWidth()),e=n/(a.innerHeight()-s.outerHeight());r.css("left","".concat(-o*(r.outerWidth()-s.innerWidth()-76)-64,"px")),r.css("top","".concat(-e*(r.outerHeight()-s.innerHeight()-76)-64,"px"))}),$.extend({sport:function(e,s){clearInterval(e.timer),e.timer=setInterval(function(){var t=!0;for(var i in s){var n="opacity"===i?parseInt(100*parseFloat($.getStyle(e,i))):parseInt($.getStyle(e,i)),o=(s[i]-n)/4;o=0<o?Math.ceil(o):Math.floor(o),n!==s[i]&&(t=!1),"opacity"===i?(e.style.opacity=(n+o)/100,e.style.filter="alpha(opacity="+(n+o)+")"):e.style[i]=n+o+"px"}t&&clearInterval(e.timer)},30)},getStyle:function(t,i){return t.currentStyle?t.currentStyle[i]:getComputedStyle(t,1)[i]}}),$(".side-box").hover(function(){$.sport(this,{right:226})},function(){$.sport(this,{right:0})});var i=!0,n=$(".link-more1"),o=$(".buyInfor-a6 .more-con1");n.hover(function(){o.css("display","block")},function(){setTimeout(function(){i||o.css("display","none")},300)}),o.hover(function(){i=!0,$(this).css("display","block")},function(){i=!1,$(this).css("display","none")});var e=$(".buyInfor-a3 ul li");e.each(function(){$(this).click(function(){e.attr("class","specification-unselect"),$(this).attr("class","specification-select"),"specification-select"===e.first().attr("class")?$(".buyInfor-a2 span").html(298):$(".buyInfor-a2 span").html(428)})});var c=$(".buy-num span").first(),l=$(".buy-num span").last(),p=$(".buy-num input");c.click(function(){var t=p.val();1<t&&p.val(t-1)}),l.click(function(){var t=parseInt(p.val());t<50&&p.val(t+1)}),$(".goods-inCar").click(function(){var t,i=$(".specification-select").attr("data-gd-id"),n=$(".goods-slide img").attr("src"),o=$(".goods-introduction h2").html(),e=$(".good-introduction span").html(),s=$(".specification-select span").first().html(),r=$(".buyInfor-a2 span").html(),a=parseInt($(".buyInfor-a4 div input").val()),c=window.localStorage,l=function(t){return t?JSON.parse(t):{}}(c.carts?c.carts:"");o in l?(i in(t=JSON.parse(l[o]))?t[i].gdnum+=a:t[i]={gdimg:n,gdname:o,gdsubname:e,gdspec:s,gdprice:r,gdnum:a},l[o]=JSON.stringify(t)):((t={})[i]={gdimg:n,gdname:o,gdsubname:e,gdspec:s,gdprice:r,gdnum:a},l[o]=JSON.stringify(t));c.carts=JSON.stringify(l)})});