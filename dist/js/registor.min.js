"use strict";$(function(){var i=$(".reg-tel input"),t=$(".ven-code"),o=$(".reg-code input"),s=$(".txt-msg"),c=$(".get-msg"),l=$(".reg-pwd dd input"),m=$(".reg-subPwd dd input"),a=$("form"),d=$(".reg-tel dd span"),v=$(".msg-ts"),p=$(".reg-pwd dd span"),r=$(".reg-subPwd dd span"),k=/^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$/,u=/^\w{6,12}$/;$.extend({random:function(){for(var a="0123456789",n="",e=1;e<5;e++)n+=a.charAt(Math.floor(Math.random()*a.length));return n},convertCookieStrToCookieObj:function(a){return a?JSON.parse(a):{}}}),t.html($.random()),t.click(function(){$(this).html($.random())}),a.submit(function(){var a=[!1,!1,!1,!1,!1];if(""===i.val())d.html("请填写手机号"),a[0]=!1;else if(k.test(i.val()))if(d.html(""),a[0]=!0,""===s.val())s.focus(),v.html("请输入手机验证码"),a[1]=!1;else if(""===l.val())l.focus(),p.html("请输入密码！"),a[2]=!1;else if(u.test(l.val()))if(p.html(""),a[2]=!0,""===m.val())m.focus(),r.html("请再次输入密码！"),a[3]=!1;else if(m.val()!==l.val())r.html("两次输入的密码不匹配！"),a[3]=!1;else if(r.html(""),a[3]=!0,""===v.html())$("body").append('<div class="mask"><div class="mask-con clear_fix"><span></span><p>请点击获取验证码！</p><input type="button" name="" id="" value="确定"></div></div>'),$(".mask-con span").click(function(){$(".mask").remove()}),$(".mask-con input").click(function(){$(".mask").remove()});else if(s.val()!==v.html()||""===s)a[1]=!1,$("body").append('<div class="mask"><div class="mask-con clear_fix"><span></span><p>验证码输入错误！</p><input type="button" name="" id="" value="确定"></div></div>'),$(".mask-con span").click(function(){$(".mask").remove()}),$(".mask-con input").click(function(){$(".mask").remove()});else{a[4]=!0,a[1]=!0;var n=$.cookie("registors")?$.cookie("registors"):"",e=$.convertCookieStrToCookieObj(n);i.val()in e?(a[0]=flase,$("body").append('<div class="mask"><div class="mask-con clear_fix"><span></span><p>该手机号已被注册！</p><input type="button" name="" id="" value="确定"></div></div>'),$(".mask-con span").click(function(){$(".mask").remove()}),$(".mask-con input").click(function(){$(".mask").remove()})):(e[i.val()]=l.val(),$.cookie("registors",JSON.stringify(e),{expires:7}),alert("注册成功"),a[0]=!0)}else p.html("密码长度在6-12位之间"),a[2]=!1;else d.html("请输入正确的手机号码！"),a[0]=!1;return-1==a.indexOf(!1)}),c.click(function(){if(""===i.val())d.html("请填写手机号");else if(k.test(i.val()))if(d.html(""),""===o.val())$("body").append('<div class="mask"><div class="mask-con clear_fix"><span></span><p>请先填写验证码！</p><input type="button" name="" id="" value="确定"></div></div>'),$(".mask-con span").click(function(){$(".mask").remove()}),$(".mask-con input").click(function(){$(".mask").remove()});else if(o.val()!==t.html())$("body").append('<div class="mask"><div class="mask-con clear_fix"><span></span><p>输入的验证码不正确，请重新输入！</p><input type="button" name="" id="" value="确定"></div></div>'),$(".mask-con span").click(function(){$(".mask").remove()}),$(".mask-con input").click(function(){$(".mask").remove()});else{var a=$.cookie("registors")?$.cookie("registors"):"",n=$.convertCookieStrToCookieObj(a);if(i.val()in n)return $("body").append('<div class="mask"><div class="mask-con clear_fix"><span></span><p>该手机号已被注册！</p><input type="button" name="" id="" value="确定"></div></div>'),$(".mask-con span").click(function(){$(".mask").remove()}),void $(".mask-con input").click(function(){$(".mask").remove()});$("body").append('<div class="mask"><div class="mask-con clear_fix"><span></span><p>短信验证码已发送至您的手机，请输入验证码！</p><input type="button" name="" id="" value="确定"></div></div>'),$(".mask-con span").click(function(){$(".mask").remove()}),$(".mask-con input").click(function(){$(".mask").remove()}),v.html($.random()),c.css("background","#dddfde");var e=20;c.attr("disabled",!0);var s=setInterval(function(){c.val("".concat(--e,"秒后可重新获取"))},1e3);setTimeout(function(){c.css("background","#fae0bb"),c.val("点击获取验证码"),clearInterval(s),c.attr("disabled",!1)},1e4)}else d.html("请输入正确的手机号码！")})});